execute as @a run tag @s add pumpkin_head
execute if entity @e[tag=options,type=marker,tag=disable_pump] run scoreboard players set $randomize_pumpkin randomize 1
execute if entity @e[tag=options,type=marker,tag=disable_pump] run tag @a remove pumpkin_headc
execute if entity @e[tag=options,type=marker,tag=disable_pump] run tag @a remove pumpkin_head

execute if entity @e[tag=options,type=marker,tag=disable_pump] run scoreboard players reset $sub_event current_event
execute unless entity @e[tag=options,type=marker,tag=disable_pump] run tellraw @a [{"text":"Secret Sub-Event!","color":"aqua"}]
execute unless entity @e[tag=options,type=marker,tag=disable_pump] run tellraw @a [{"text":"Heres a pumpkin, hope it doesnt get in the way!","color":"gold"}]
execute unless entity @e[tag=options,type=marker,tag=disable_pump] run tellraw @a [{"text":"--------------","color":"dark_gray"}]
execute unless entity @e[tag=options,type=marker,tag=disable_pump] as @a[tag=pumpkin_head] at @s if items entity @s armor.head * run tellraw @s [{"text":"Oop! the pumpkin pushed your helmet off onto the ground!","color":"dark_gray"}]
execute unless entity @e[tag=options,type=marker,tag=disable_pump] as @a[tag=pumpkin_head] at @s if items entity @s armor.head * run summon item ~ ~2 ~ {Motion:[0.0,0.5,0.0],Tags:["dropped"],Item:{id:"minecraft:stone",count:1}}
execute unless entity @e[tag=options,type=marker,tag=disable_pump] as @a[tag=pumpkin_head] at @s if items entity @s armor.head * run item replace entity @e[type=item,tag=dropped,sort=nearest,distance=..5] contents from entity @s armor.head
execute unless entity @e[tag=options,type=marker,tag=disable_pump] as @a[tag=pumpkin_head] at @s if items entity @s armor.head * run item replace entity @s armor.head with carved_pumpkin[enchantments={levels:{"minecraft:binding_curse":1}},damage_resistant={types:"#minecraft:is_fire"},custom_data={pumpkd:1b}] 1
execute unless entity @e[tag=options,type=marker,tag=disable_pump] as @a[tag=pumpkin_head] at @s unless items entity @s armor.head * run item replace entity @s armor.head with carved_pumpkin[enchantments={levels:{"minecraft:binding_curse":1}},damage_resistant={types:"#minecraft:is_fire"},custom_data={pumpkd:1b}] 1
execute store result score @a[tag=pumpkin_head] randomize run random value 1..5

execute unless entity @e[tag=options,type=marker,tag=disable_pump] as @a[tag=pumpkin_head] at @s if score @s randomize matches 1 if items entity @s armor.head * run item replace entity @s armor.head with carved_pumpkin[enchantments={levels:{"minecraft:binding_curse":1}},damage_resistant={types:"#minecraft:is_fire"},custom_data={pumpkd:1b},custom_name='{"color":"red","italic":false,"text":"Shakls"}'] 1
execute unless entity @e[tag=options,type=marker,tag=disable_pump] as @a[tag=pumpkin_head] at @s if score @s randomize matches 2 if items entity @s armor.head * run item replace entity @s armor.head with carved_pumpkin[enchantments={levels:{"minecraft:binding_curse":1}},damage_resistant={types:"#minecraft:is_fire"},custom_data={pumpkd:1b},custom_name='{"color":"red","italic":false,"text":"You got Pumpked!"}'] 1
execute unless entity @e[tag=options,type=marker,tag=disable_pump] as @a[tag=pumpkin_head] at @s if score @s randomize matches 3 if items entity @s armor.head * run item replace entity @s armor.head with carved_pumpkin[enchantments={levels:{"minecraft:binding_curse":1}},damage_resistant={types:"#minecraft:is_fire"},custom_data={pumpkd:1b},custom_name='{"color":"red","italic":false,"text":"Big Brain"}'] 1
execute unless entity @e[tag=options,type=marker,tag=disable_pump] as @a[tag=pumpkin_head] at @s if score @s randomize matches 4 if items entity @s armor.head * run item replace entity @s armor.head with carved_pumpkin[enchantments={levels:{"minecraft:binding_curse":1}},damage_resistant={types:"#minecraft:is_fire"},custom_data={pumpkd:1b},custom_name='{"color":"red","italic":false,"text":"Hollow Skulled"}'] 1
execute unless entity @e[tag=options,type=marker,tag=disable_pump] as @a[tag=pumpkin_head] at @s if score @s randomize matches 5 if items entity @s armor.head * run item replace entity @s armor.head with carved_pumpkin[enchantments={levels:{"minecraft:binding_curse":1}},damage_resistant={types:"#minecraft:is_fire"},custom_data={pumpkd:1b},custom_name='{"color":"red","italic":false,"text":"Haunted Headgear"}'] 1
