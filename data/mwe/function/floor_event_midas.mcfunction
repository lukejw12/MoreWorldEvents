execute if score $floor floor matches 3 as @a[tag=floorc] if score $midas_randomize midas_randomize matches 1 as @a[nbt=!{Inventory:[{id:"minecraft:golden_helmet",count:1,Slot:103b,components:{"minecraft:custom_data":{midas_crown:1b}}}]}] at @s unless block ~ ~-1 ~ #midas_immune unless entity @e[tag=options,type=marker,tag=disable_floor_3] run setblock ~ ~-1 ~ gold_block
execute if score $floor floor matches 3 as @a[tag=floorc] if score $midas_randomize midas_randomize matches 2 as @a[nbt=!{Inventory:[{id:"minecraft:golden_helmet",count:1,Slot:103b,components:{"minecraft:custom_data":{midas_crown:1b}}}]}] at @s unless block ~ ~-1 ~ #midas_immune unless entity @e[tag=options,type=marker,tag=disable_floor_3] run setblock ~ ~-1 ~ raw_gold_block
execute if score $floor floor matches 2 as @a[tag=floorc] run execute as @a[nbt=!{Inventory:[{id:"minecraft:golden_helmet",count:1,Slot:103b,components:{"minecraft:custom_data":{midas_crown:1b}}}]}] at @s unless block ~ ~-1 ~ #midas_immune unless entity @e[tag=options,type=marker,tag=disable_floor_2] run setblock ~ ~-1 ~ magma_block
execute as @a[tag=floorc] at @s run schedule function mwe:floor_event_action 1t